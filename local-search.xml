<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>关于公司的meta解析</title>
    <link href="/2023/12/05/%E5%85%B3%E4%BA%8E%E5%85%AC%E5%8F%B8%E7%9A%84meta%E8%A7%A3%E6%9E%90/"/>
    <url>/2023/12/05/%E5%85%B3%E4%BA%8E%E5%85%AC%E5%8F%B8%E7%9A%84meta%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>寂寞空庭春欲晚，梨花满地不开门。</p></blockquote><p>新公司的前后端是靠meta进行数据请求的约定，无论是写新的接口还是维护增强原来的接口都需要和这个meta打交道，今天摸鱼写一写对meta的认识。</p><h2 id="主体结构"><a href="#主体结构" class="headerlink" title="主体结构"></a>主体结构</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;views&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;boName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;displayName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;fieldMetaList&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>解释：</p><ul><li>views是负责定义前端展示的视图结构（比如说需要展示BO的哪些属性，展示的顺序，在后文会展开谈）</li><li>boName就是BO对象的名字</li><li>displayName是在前端展示的List列表的名称</li><li>fieldMetaList是对于展示的数据的类型详情（包括一些是否只读、不可重复，在后文展开谈）</li></ul><h2 id="views"><a href="#views" class="headerlink" title="views"></a>views</h2><h3 id="views的基础结构"><a href="#views的基础结构" class="headerlink" title="views的基础结构"></a>views的基础结构</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;views&quot;</span> <span class="hljs-punctuation">:</span><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;listView&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 列表页配置</span><br>  <span class="hljs-attr">&quot;detailView&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span> <span class="hljs-comment">// 详情页配置</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>简单来说就是想要展示在前端的配置</p><h3 id="列表页配置"><a href="#列表页配置" class="headerlink" title="列表页配置"></a>列表页配置</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;listView&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;skuName&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;skuId&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;brand&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;boxCode69&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;code69&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;codeExternal&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;spec&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-string">&quot;unitName&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;actions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;CREATE&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;EXPORT&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;detailFields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;skuId&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;EditableField&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;filters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;label&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;operator&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;contains&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;values&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;abc&quot;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li>fields字段：哪些字段是默认字段，其他的字段则会默认隐藏</li><li>actions：当前用户有哪些操作权限<ul><li>EDIT &#x3D; ‘EDIT’, &#x2F;&#x2F; 编辑</li><li>APPROVE &#x3D; ‘APPROVE’, &#x2F;&#x2F; 审批</li><li>CLOSE &#x3D; ‘CLOSE’, &#x2F;&#x2F; 关单</li><li>CANCEL &#x3D; ‘CANCEL’, &#x2F;&#x2F; 作废</li><li>SUBMIT_FOR_APPROVAL &#x3D; ‘SUBMIT_FOR_APPROVAL’, &#x2F;&#x2F; 提交审批</li><li>STOCK_IN &#x3D; “STOCK_IN”, &#x2F;&#x2F; 入库</li><li>STOCK_OUT &#x3D; “STOCK_OUT”, &#x2F;&#x2F; 出库</li><li>ROLL_BACK &#x3D; “ROLL_BACK”, &#x2F;&#x2F; 撤回</li></ul></li><li>detail Fields字段：哪一些字段点开是详情页</li><li>filters：筛选条件， 可能包含多个条件组</li></ul><h3 id="详情页配置"><a href="#详情页配置" class="headerlink" title="详情页配置"></a>详情页配置</h3><p>总的来说detailView就是定义详情页的显示和操作</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;actions&quot;</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;EDIT&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;APPROVE&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;detail&quot;</span><span class="hljs-punctuation">:</span> EditableField<span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>;<br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="actions-当前用户对详情页可做的操作"><a href="#actions-当前用户对详情页可做的操作" class="headerlink" title="actions - 当前用户对详情页可做的操作"></a>actions - 当前用户对详情页可做的操作</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"> EDIT = &#x27;EDIT&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 编辑</span><br> APPROVE = &#x27;APPROVE&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 审批</span><br> CLOSE = &#x27;CLOSE&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 关单</span><br> CANCEL = &#x27;CANCEL&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 作废</span><br> SUBMIT_FOR_APPROVAL = &#x27;SUBMIT_FOR_APPROVAL&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 提交审批</span><br> STOCK_IN = <span class="hljs-string">&quot;STOCK_IN&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 入库</span><br> STOCK_OUT = <span class="hljs-string">&quot;STOCK_OUT&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 出库</span><br> ROLL_BACK = <span class="hljs-string">&quot;ROLL_BACK&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 撤回</span><br>...<br></code></pre></td></tr></table></figure><p>listView和detailView的更多操作也在系统优化过程中不断增加，现在已经有相当一部分数据了，但是公司的命名在和前端做约定的流程似乎不是很规范，想想真是汗流浃背了</p><h4 id="detail-详情页的各个小页面内容构成"><a href="#detail-详情页的各个小页面内容构成" class="headerlink" title="detail - 详情页的各个小页面内容构成"></a>detail - 详情页的各个小页面内容构成</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>一个小区块的内容就由这样的结构定义：</p><ul><li><p>name： 就是该区块的名称</p></li><li><p>fields：构成区块的字段内容， 这就可以是详情页展示的该对象（或者说数据库中一行数据）的各个字段，也可以是一个InnerField</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 普通的fields对象数组</span><br><span class="hljs-attr">&quot;fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;readonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;fieldName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;label&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createHidden&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;allowDuplicate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createReadonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;readonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;fieldName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;department&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createHidden&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;allowDuplicate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createReadonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;boName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Sku&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;filters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;skuType&quot;</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-attr">&quot;values&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-string">&quot;SELF_PRODUCE&quot;</span><br>          <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-attr">&quot;operator&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;equals&quot;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;pageNum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;pageSize&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;sortOrder&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;sortColumn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dateCreate&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;onChange&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;(()=&gt;&#123;head.code = head.sku.code&#125;)()&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;readonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;fieldName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sku&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createHidden&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;allowDuplicate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;createReadonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">]</span><br><span class="hljs-comment">// innerField</span><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;readonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;fieldName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lines&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;innerFields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;createHidden&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;allowDuplicate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;createReadonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><br><span class="hljs-punctuation">&#125;</span><br><span class="hljs-comment">// innerFields数组中的对象结构</span><br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;minWidth&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;readonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;fieldName&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;mandatory&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;createHidden&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;createReadonly&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>这其中可以看到，我去，怎么还有JavaScript，为了支持复杂的业务场景，默认上下文是有变量名称叫做record、head和current</p><ul><li>record：就是ant design column定义的render方法里的record，表格里的行记录（简单理解为列表中每一行的对象主体）</li><li>head：就是表单头的data source（简单理解为详情页中的对象主体）</li><li>current：就是当前输入框的值</li></ul></li></ul><h2 id="boName"><a href="#boName" class="headerlink" title="boName"></a>boName</h2><p>当前页与数据库联系的BO</p><h2 id="displayName"><a href="#displayName" class="headerlink" title="displayName"></a>displayName</h2><p>BO的展示名称</p><h2 id="fieldMetaList"><a href="#fieldMetaList" class="headerlink" title="fieldMetaList"></a>fieldMetaList</h2><p>字段的详情定义，前后端都会根据这里的定义进行相应的操作。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  fieldName<span class="hljs-punctuation">:</span> string;  <span class="hljs-comment">// 字段名</span><br>  label<span class="hljs-punctuation">:</span> string;      <span class="hljs-comment">// 字段显示名</span><br>  type<span class="hljs-punctuation">:</span> FieldType;  <span class="hljs-comment">// 字段类型</span><br>  enumList?<span class="hljs-punctuation">:</span> EnumDto<span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>;<br>  refBo?<span class="hljs-punctuation">:</span> string;   <span class="hljs-comment">// 引用对象,表示此字段引用了另外一个对象</span><br>  joinField? <span class="hljs-punctuation">:</span> string; <span class="hljs-comment">// 关联其他表的哪个字段。</span><br>  joinBO?<span class="hljs-punctuation">:</span> string;<br>  suffix?<span class="hljs-punctuation">:</span> string;<br>  defaultValue?<span class="hljs-punctuation">:</span> any; <span class="hljs-comment">// 基础字段默认值，新建时使用</span><br>  multiple?<span class="hljs-punctuation">:</span> boolean; <span class="hljs-comment">// 是否多选</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="基础属性"><a href="#基础属性" class="headerlink" title="基础属性"></a>基础属性</h3><ol><li><p>fieldName </p><p>字段名称，对应着后台java的字段名，可以直接翻译成数据库的列名</p></li><li><p>label</p><p>字段的显示名称</p></li><li><p>type</p><p>字段类型</p></li><li><p>suffix</p><p>后缀，显示该字段的时候，是否要加个后缀</p></li><li><p>defaultValue</p><p>默认值(创建的时候给一个默认值)，可以是固定值，也可以是动态的</p></li></ol><h3 id="枚举属性"><a href="#枚举属性" class="headerlink" title="枚举属性"></a>枚举属性</h3><p>如果属性值为ENUM类型那么则需要增加enumList字段</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 简单的例子</span><br><span class="hljs-comment">// 这个字段的值可以是枚举类也可以是js的判断 比较灵活</span><br><span class="hljs-comment">// 通过和前端约定status 可以指定样式</span><br><span class="hljs-attr">&quot;enumList&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;desc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;是&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;true&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Success&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;desc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;否&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;false&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;status&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Warning&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h3 id="BO关联属性"><a href="#BO关联属性" class="headerlink" title="BO关联属性"></a>BO关联属性</h3><p>这个字段和其他BO联动，需要定义关联的字段和BO</p><p>type为[“MANY2ONE”, “MANY2MANY”, “ONE2MANY”, “LINE”]</p><ol><li>MANY2MANY：这种情况会有一张中间表，中间表是joinBO所指定的内容</li><li>MANY2ONE：连接两张表，附表的uuid和主表中指定的字段相等做表的连接关系(需要指定refBo)</li><li>ONE2MANY：连接两张表，主表的uuid和附表中指定的字段相等做表的连接关系</li></ol><p>补充：如果MANY2MANY或ONE2MANY不是按照BO约定的用uuid建立连接，那么需要指定关联字段joinField</p><p>最后是所有的字段类型</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs json">FieldType <span class="hljs-punctuation">&#123;</span><br>  ENUM = &#x27;ENUM&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 枚举类型，只能显示有限的值</span><br>  NUMBER = &#x27;NUMBER&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 数值类型。</span><br>  STR = &#x27;STR&#x27;<span class="hljs-punctuation">,</span>  <span class="hljs-comment">// 字符类型</span><br>  BOOL = &#x27;BOOL&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 布尔类型</span><br>  DATETIME = &#x27;DATETIME&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 日期时间类型</span><br>  TIME = &#x27;TIME&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 时间类型</span><br>  DATE = &#x27;DATE&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 日期类型</span><br>  PCD = &#x27;PCD&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 省市区类型</span><br>  TEXTAREA = &#x27;TEXTAREA&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 文本域类型</span><br>  IMAGES = &#x27;IMAGES&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 图片列表</span><br>  PERCENT = &#x27;PERCENT&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 百分比组件</span><br>  MONEY = &#x27;MONEY&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 金额</span><br>  FILES = &#x27;FILES&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 文件列表</span><br>  MANY2ONE = &#x27;MANY2ONE&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 多对1类型</span><br>  MANY2MANY = &#x27;MANY2MANY&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 多对多类型</span><br>  ONE2MANY = &#x27;ONE2MANY&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 1对多类型</span><br>  LINE = &#x27;LINE&#x27;<span class="hljs-punctuation">,</span> <span class="hljs-comment">// 子表</span><br>  AVATAR = &#x27;AVATAR&#x27;<span class="hljs-punctuation">,</span><span class="hljs-comment">// 头像</span><br>  DYNAMICREF = &#x27;DYNAMICREF&#x27;<span class="hljs-punctuation">,</span><span class="hljs-comment">// 动态引用类型，值为[&quot;bo&quot;,&quot;uuid&quot;, &quot;label&quot;]</span><br>  URL = &#x27;URL&#x27;<span class="hljs-punctuation">,</span><span class="hljs-comment">// 链接</span><br>  JSON = &#x27;JSON&#x27;<span class="hljs-punctuation">,</span><span class="hljs-comment">// json 对象</span><br>  SELECT=&#x27;SELECT&#x27; <span class="hljs-comment">// 选择器</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="补充-关键词"><a href="#补充-关键词" class="headerlink" title="补充 - 关键词"></a>补充 - 关键词</h2><ul><li><p><strong>current</strong> </p><p>当前页面输入框的值</p></li><li><p><strong>currentUser</strong> </p><p>当前用户的uuid</p></li><li><p><strong>currentDate</strong></p><p>当前日期</p></li><li><p><strong>currentDateTime</strong></p><p>当前日期时间</p></li><li><p><strong>record</strong></p><p>当前行数据</p></li><li><p><strong>head</strong></p><p>表单头的数据</p></li><li><p><strong>lines</strong></p><p>子表的数据</p></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>公司摸鱼</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据库基础(一)</title>
    <link href="/2023/11/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80-%E4%B8%80/"/>
    <url>/2023/11/28/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80-%E4%B8%80/</url>
    
    <content type="html"><![CDATA[<p>生活百般滋味，人生需要笑对。</p><blockquote><p>[JavaGuide数据库基础]: <a href="https://javaguide.cn/database/basis.html">https://javaguide.cn/database/basis.html</a>“JavaGuide数据库基础”</p></blockquote><h2 id="MySQL-基本名词"><a href="#MySQL-基本名词" class="headerlink" title="MySQL 基本名词"></a>MySQL 基本名词</h2><p>对于数据库，首先了解几个名词：</p><ul><li>元组：表中的一行就是一个元组。</li><li>码：唯一标识实体的属性，对应一列</li><li>候选码：能标识实体的不可分割的属性或属性组的集合</li><li>主键：只能有一个，不能为null不能重复</li><li>外键：可以有多个，可以为null也可以重复</li><li>主属性：候选码中出现过的属性就是主属性</li><li>非主属性：候选码中没出现过的好就是非主属性</li></ul><h2 id="ER图"><a href="#ER图" class="headerlink" title="ER图"></a>ER图</h2><p>在设计一个数据库的开始，我们首先要厘清关系，便要用到ER图</p><p>ER图的全称是Entity Relationship Diagram（实体联系图），用来表示实体之间的关系以及实体的属性。</p><p>实体：通常用矩形表示，是业务中的对象。</p><p>关系：通常用菱形表示，构成实体与实体之间的联系。</p><p>属性：通常用椭圆表示，用来描述实体的组成。</p><h2 id="数据库范式"><a href="#数据库范式" class="headerlink" title="数据库范式"></a>数据库范式</h2><p>在我看来可以简单的理解为：</p><ul><li>第一范式：属性不可再分（即没有可分割的字段，这也是最基本的要求）</li><li>第二范式：在满足第一范式的基础上，消除了部分函数依赖（即主键的整体才能确定非主属性，只能有一个标志）</li><li>第三范式：在满足第二范式的基础上，消除了传递函数依赖</li></ul><h3 id="数据库依赖"><a href="#数据库依赖" class="headerlink" title="数据库依赖"></a>数据库依赖</h3><ul><li>函数依赖：在一个表中，X可以确定唯一的Y，那么就称Y依赖X。</li><li>部分函数依赖：对于X -&gt; Y，X中有一个真子集X0满足X0 -&gt; Y，那么我们就称Y部分函数依赖X。</li><li>完全函数依赖：对于X -&gt; Y，但如果只知道X中的一部分是不能确定唯一的Y，那么Y就是完全函数依赖X。</li><li>传递函数依赖：X -&gt; Y -&gt; Z，那么Z传递函数依赖X。</li></ul><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>对于数据库设计，一般我们需要先分析用户的需求，从数据，功能和性能上去剖析。随后我们应该用ER图来厘清数据之间的逻辑关系，将ER转为表结构。</p>]]></content>
    
    
    <categories>
      
      <category>面试</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数据库</tag>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/11/27/hello-world/"/>
    <url>/2023/11/27/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
